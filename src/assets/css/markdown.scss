html {
  --header-offset: 120px;
}

.markdown-body {
  font-size: 16px;
  line-height: 1.8;
  color: rgb(var(--color-text-primary));
  width: 60vw;
  font-family: "Source Han Serif","PingFang SC","Noto Serif CJK","Arial",sans-serif;
  letter-spacing: .5px;
  background-color: rgb(var(--color-bg-primary));
  border: 1px solid rgb(var(--color-border-primary) / .8);
  border-radius: 16px;
  padding: 32px;
  transition: background-color .35s ease, color .35s ease, border-color .35s ease;



  p {
    margin: 1.25rem 0;
    font-size: 1rem;
    color: rgb(var(--color-text-primary));
  }

  strong { font-weight: 700; }
  em { font-style: italic; }

  h1, h2, h3, h4, h5, h6 {
    font-weight: 700;
    line-height: 1.25;
    scroll-margin-top: var(--header-offset);
    color: rgb(var(--color-text-primary));
  }
  h1 { margin-bottom: 2rem; font-size: 2.25rem; }
  h2 { margin-top: 3rem; margin-bottom: 1.5rem; font-size: 1.5rem; border-bottom: 1px solid rgb(var(--color-border-primary)); padding-bottom: .3em; }
  h3 { margin-top: 2rem; margin-bottom: .75rem; font-size: 1.25rem; }
  h4 { margin-top: 1.5rem; margin-bottom: .5rem; font-size: 1.125rem; }
  h5 { margin-top: 1rem; margin-bottom: .5rem; font-size: 1rem; text-transform: uppercase; letter-spacing: .025em; color: rgb(var(--color-text-secondary)); }
  h6 { margin-top: .75rem; margin-bottom: .5rem; font-size: .875rem; text-transform: uppercase; letter-spacing: .05em; color: rgb(var(--color-text-secondary)); }

  a {
    font-weight: 400;
    color: rgb(var(--color-accent, 37 99 235));
    text-underline-offset: 2px;
    transition: color .2s ease;
    &:hover { text-decoration-line: underline; }
  }

  ul, ol { padding-left: 1.6em; margin: 1em 0; }
  li { margin: .4em 0; }

  blockquote {
    margin-top: 1.25rem;
    margin-bottom: 1.25rem;
    border-left-width: 2px;
    border-color: rgb(var(--color-accent, 37 99 235) / .8);
    padding-left: 1rem;
    font-style: italic;
    color: rgb(var(--color-text-secondary));
    p { margin: .5em 0; }
  }

  p code, li code, h3 code {
    font-family: 'JetBrains Mono', monospace;
    border-radius: .25rem;
    background-color: rgb(var(--color-bg-secondary));
    padding: .25rem .5rem;
    font-size: .875rem;
    color: rgb(var(--color-text-primary));
  }

  .code-block {
    max-width: 100%;
    position: relative;
    margin-top: 2rem;
    margin-bottom: 1.5rem;
    overflow: hidden;
    border-radius: .5rem;
    border: 1px solid rgb(var(--color-border-primary) / .35);
    background-image:
      linear-gradient(145deg, rgb(var(--color-bg-primary) / .92), rgb(var(--color-bg-secondary) / .78)),
      radial-gradient(circle at 8% 0%, rgb(var(--color-accent, 37 99 235) / .18), transparent 55%);
    box-shadow: 0 18px 35px rgb(var(--color-bg-root) / .22);
    transition: border-color .25s ease, box-shadow .25s ease, background .25s ease;
  }

  pre.shiki {
    box-sizing: border-box;
    font-family: 'JetBrains Mono', monospace;
    max-height: 450px;
    width: 100%;
    max-width: 100%;
    overflow: auto;
    padding: 1rem 1.25rem;
    font-size: .875rem;
    line-height: 1.625;
    background: transparent;
    scrollbar-width: thin;
    scrollbar-color: rgb(var(--color-border-primary) / .65) transparent;

    &::-webkit-scrollbar { width: 10px; height: 10px; }
    &::-webkit-scrollbar-track { background: transparent; }
    &::-webkit-scrollbar-thumb {
      background-image: linear-gradient(180deg, rgb(var(--color-border-primary) / .9), rgb(var(--color-border-primary) / .65));
      border-radius: 999px;
      border: 2px solid transparent;
      background-clip: padding-box;
    }
    &::-webkit-scrollbar-thumb:hover {
      background-image: linear-gradient(180deg, rgb(var(--color-accent, 37 99 235) / .8), rgb(var(--color-accent, 37 99 235) / .65));
    }
  }

  .table-wrapper { margin-top: 1.25rem; margin-bottom: 1.25rem; overflow-x: auto; }

  table {
    margin-left: auto;
    margin-right: auto;
    width: 100%;
    table-layout: auto;
    text-align: left;
    font-size: .95rem;
    border-collapse: collapse;
    border-spacing: 0;
    background-color: rgb(var(--color-bg-primary));
    border: 1px solid rgb(var(--color-border-primary));

    thead th {
      background-color: rgb(var(--color-bg-secondary));
      color: rgb(var(--color-text-primary));
    }

    tbody tr {
      background-color: rgb(var(--color-bg-primary));
    }
    tbody tr:nth-child(odd) {
      background-color: rgb(var(--color-bg-secondary) / .08);
    }

    tbody tr:nth-child(even) {
      background-color: rgb(var(--color-bg-secondary) / .12);
    }

    tbody tr:hover {
      background-color: rgb(var(--color-bg-secondary) / .16);
    }
  }

  tr { border-bottom-width: 1px; border-color: rgb(var(--color-border-primary)); }
  th, td { padding: .75rem; color: rgb(var(--color-text-primary)); border: 1px solid rgb(var(--color-border-primary)); }
  th, td { background-color: transparent; }
  td { vertical-align: baseline; }

  img {
    min-height: 80px;
    min-width: 80px;
    border-radius: .5rem;
    background-color: rgb(var(--color-bg-secondary));
    display: block;
    width: 100%;
    object-fit: cover;
    margin: 1.5em auto;
  }

  hr { border: none; border-top: 1px solid rgb(var(--color-border-primary)); margin: 3em 0; }
}

[data-theme=dark] {
  .markdown-body {
    pre.shiki { scrollbar-color: rgb(var(--color-border-primary) / .45) transparent; }
    pre.shiki::-webkit-scrollbar-thumb {
      background-image: linear-gradient(180deg, rgb(var(--color-border-primary) / .7), rgb(var(--color-border-primary) / .45));
    }
    pre.shiki::-webkit-scrollbar-thumb:hover {
      background-image: linear-gradient(180deg, rgb(var(--color-accent, 37 99 235) / .8), rgb(var(--color-accent, 37 99 235) / .5));
    }
  }
}
